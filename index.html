<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kameradan Barkod Tarama ve Stok Numarası Bulma</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #interactive {
            width: 100%;
            max-width: 600px;
            margin: auto;
            margin-bottom: 20px;
        }
        #result {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h2>Kameradan Barkod Tarama ve Stok Numarası Bulma</h2>
    <div id="interactive" class="viewport"></div>
    <div id="result"></div>

    <script src="https://cdn.jsdelivr.net/npm/quagga/dist/quagga.min.js"></script>
    <script>
        Quagga.init({
            inputStream : {
                name : "Live",
                type : "LiveStream",
                target: document.querySelector('#interactive'),
                constraints: {
                    facingMode: 'environment' // veya 'user' olarak ayarlayabilirsiniz
                },
            },
            decoder : {
                readers : ["ean_reader"] // Barkod türünü burada belirleyebilirsiniz (örneğin, EAN)
            }
        }, function(err) {
            if (err) {
                console.error(err);
                return;
            }
            console.log("QuaggaJS başarıyla yüklendi.");
            Quagga.start();
        });

        Quagga.onDetected(function(result) {
            var barcode = result.codeResult.code;
            findStockNumber(barcode);
            Quagga.stop();
        });

        function findStockNumber(barcode) {
    // EAN-13 formatında bir barkod alıyoruz, örneğin: 8699536096547
    // EAN-13'in ilk 7 hanesi üretici ya da firma kodunu temsil eder
    var manufacturerCode = barcode.substring(1, 7); // Örneğin: 699536

    // Burada basit bir örnek, gerçek bir veritabanı veya API'den stok numarası almak gerekir
    var stockNumber = "STOK-" + manufacturerCode;

    // Sonucu ekranda göster
    document.getElementById('result').innerHTML = "<p>Stok Numarası: " + stockNumber + "</p>";
}

    </script>
</body>
</html>
